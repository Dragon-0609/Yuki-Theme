var wallpapers = {
	"KonoSuba: Aqua": {
		"wallpaper": "aqua_dark.png",
		"background": "#262940",
		"color": "#bbbbbb",
		"keyword": "#578CDA",
		"hover": "#8dc6ef",
		"position": "center",
		"beginend": "#6893f3",
		"key": "#988F9A",
		"string": "#f4fa8c",
		"selection": "#4C637A"
	},
	"TypeMoon: Astolfo": {
		"wallpaper": "astolfo_dark.png",
		"background": "#1a1c19",
		"color": "#bbbbbb",
		"keyword": "#d58d9c",
		"hover": "#f5c9fc",
		"position": "right",
		"beginend": "#f6ebb7",
		"key": "#d776ae",
		"string": "#cd5257",
		"selection": "#501C1C"
	},
	"SAO: Asuna Dark": {
		"wallpaper": "asuna_dark.png",
		"background": "#1b1b1b",
		"color": "#bbbbbb",
		"keyword": "#99202c",
		"hover": "#db974d",
		"position": "center",
		"beginend": "#3B82BD",
		"key": "#988F9A",
		"string": "#f5cc5a",
		"selection": "#391717"
	},
	"SAO: Asuna Light": {
		"wallpaper": "asuna_light.png",
		"background": "#fcfcfc",
		"color": "#252427",
		"keyword": "#a61d0d",
		"hover": "#db974d",
		"position": "center",
		"beginend": "#0d5fa6",
		"key": "#a61d0d",
		"string": "#a61d0d",
		"selection": "#e9b4b8"
	},
	"NekoPara: Azuki": {
		"wallpaper": "azuki_dark.png",
		"background": "#2e221f",
		"color": "#bfbfbf",
		"keyword": "#e9b14e",
		"hover": "#c4ff8d",
		"position": "right",
		"beginend": "#96f3fd",
		"key": "#ffad46",
		"string": "#e0f6bf",
		"selection": "#684e29"
	},
	"Re:Zero: Beatrice": {
		"wallpaper": "beatrice.png",
		"background": "#FFE5F1",
		"color": "#000000",
		"keyword": "#78A5EB",
		"hover": "#df81b8",
		"position": "right",
		"beginend": "#7C75EF",
		"key": "#C869A3",
		"string": "#DC872E",
		"selection": "#fcc9f2"
	},
	"NekoPara: Chocola": {
		"wallpaper": "chocola_dark.png",
		"background": "#2c2729",
		"color": "#d3d3d3",
		"keyword": "#f771a3",
		"hover": "#f8835f",
		"position": "right",
		"beginend": "#48eae4",
		"key": "#FF357C",
		"string": "#F6E9CB",
		"selection": "#6a3849"
	},
	"NekoPara: Christmas Chocola": {
		"wallpaper": "chocola_xmas.png",
		"background": "#3a141d",
		"color": "#d3d3d3",
		"keyword": "#239324",
		"hover": "#f689f6",
		"position": "center",
		"beginend": "#77EA6E",
		"key": "#F63E54",
		"string": "#C2FFAA",
		"selection": "#1f422d"
	},
	"NekoPara: Cinnamon": {
		"wallpaper": "cinnamon_dark.png",
		"background": "#343277",
		"color": "#f3edff",
		"keyword": "#54e255",
		"hover": "#d0a2fa",
		"position": "right",
		"beginend": "#FFD448",
		"key": "#53dac7",
		"string": "#b3a9ff",
		"selection": "#3a6c75"
	},
	"NekoPara: Coconut": {
		"wallpaper": "coconut_dark.png",
		"background": "#312b3a",
		"color": "#d3d3d3",
		"keyword": "#d2b503",
		"hover": "#f689f6",
		"position": "right",
		"beginend": "#48eae4",
		"key": "#b897f6",
		"string": "#F6E9CB",
		"selection": "#255b82"
	},
	"KonoSuba: Darkness Dark": {
		"wallpaper": "darkness_dark.png",
		"background": "#0a0904",
		"color": "#c3c3c3",
		"keyword": "#e99745",
		"hover": "#d53a4a",
		"position": "center",
		"beginend": "#3492b1",
		"key": "#ffba2f",
		"string": "#4593f5",
		"selection": "#553919"
	},
	"KonoSuba: Darkness Light": {
		"wallpaper": "darkness_light.png",
		"background": "#FFFEF9",
		"color": "#000000",
		"keyword": "#F5C83C",
		"hover": "#c79c19",
		"position": "center",
		"beginend": "#3492b1",
		"key": "#E36207",
		"string": "#005CC5",
		"selection": "#fff3b4"
	},
	"Re:Zero: Echidna": {
		"wallpaper": "echidna_dark.png",
		"background": "#121014",
		"color": "#a8a8a8",
		"keyword": "#ECECEC",
		"hover": "#EFA554",
		"position": "center",
		"beginend": "#BD93F9",
		"key": "#8b8b8b",
		"string": "#f4fa8c",
		"selection": "#274540"
	},
	"Re:Zero: Emilia Dark": {
		"wallpaper": "emilia_dark.png",
		"background": "#492d5a",
		"color": "#DADADA",
		"keyword": "#a53ba0",
		"hover": "#FF9CD6",
		"position": "right",
		"beginend": "#C1A2F8",
		"key": "#EF69C3",
		"string": "#FDEFA2",
		"selection": "#5C3378"
	},
	"Re:Zero: Emilia Light": {
		"wallpaper": "emilia_light.png",
		"background": "#fbf0ff",
		"color": "#252427",
		"keyword": "#82357d",
		"hover": "#cb70a5",
		"position": "right",
		"beginend": "#7C75EF",
		"key": "#C869A3",
		"string": "#d27f2d",
		"selection": "#c7a0d2"
	},
	"AzurLane: Essex": {
		"wallpaper": "essex_dark.png",
		"background": "#001d39",
		"color": "#d7d7d7",
		"keyword": "#D53232",
		"hover": "#B5AAEE",
		"position": "center",
		"beginend": "#eec45e",
		"key": "#e83737",
		"string": "#f3b085",
		"selection": "#480F0F"
	},
	"TypeMoon: Gray": {
		"wallpaper": "gray_dark.png",
		"background": "#35393b",
		"color": "#b0b0b0",
		"keyword": "#4ed4b0",
		"hover": "#89acf6",
		"position": "right",
		"beginend": "#61ead9",
		"key": "#9f73ea",
		"string": "#F6E9CB",
		"selection": "#295043"
	},
	"Monogatari: Hanekawa Tsubasa": {
		"wallpaper": "hanekawa_dark.png",
		"background": "#100d11",
		"color": "#c3c3c3",
		"keyword": "#634F8D",
		"hover": "#e39656",
		"position": "right",
		"beginend": "#7ceec8",
		"key": "#d55fde",
		"string": "#F6E3CC",
		"selection": "#5a3b5d"
	},
	"DR: Mioda Ibuki Dark": {
		"wallpaper": "ibuki_dark.png",
		"background": "#191b1d",
		"color": "#bbbbbb",
		"keyword": "#5395b4",
		"hover": "#8daeef",
		"position": "right",
		"beginend": "#5ea7ff",
		"key": "#8b8b8b",
		"string": "#f4fa8c",
		"selection": "#452735"
	},
	"DR: Mioda Ibuki Light": {
		"wallpaper": "ibuki_light.png",
		"background": "#ffeefd",
		"color": "#272426",
		"keyword": "#DA46A7",
		"hover": "#cb70a5",
		"position": "right",
		"beginend": "#4174b3",
		"key": "#C869A3",
		"string": "#d27f2d",
		"selection": "#8EDBFF"
	},
	"TypeMoon: Ishtar Dark": {
		"wallpaper": "ishtar_dark.png",
		"background": "#110F10",
		"color": "#c2c2c2",
		"keyword": "#f5c443",
		"hover": "#7C7C82",
		"position": "center",
		"beginend": "#357fbf",
		"key": "#db974d",
		"string": "#a18649",
		"selection": "#553919"
	},
	"TypeMoon: Ishtar Light": {
		"wallpaper": "ishtar_light.png",
		"background": "#fffefb",
		"color": "#252427",
		"keyword": "#f5a821",
		"hover": "#131f3b",
		"position": "center",
		"beginend": "#0d5fa6",
		"key": "#db974d",
		"string": "#a18649",
		"selection": "#fff5c7"
	},
	"JahySama: Jahy": {
		"wallpaper": "jahy_dark_smol.png",
		"background": "#1b102e",
		"color": "#cbcbcb",
		"keyword": "#874488",
		"hover": "#E77FD5",
		"position": "right",
		"beginend": "#eec45e",
		"key": "#D53232",
		"string": "#f3b085",
		"selection": "#452346"
	},
	"DM: Kanna": {
		"wallpaper": "kanna_dark.png",
		"background": "#1a1426",
		"color": "#d0d0d0",
		"keyword": "#46459e",
		"hover": "#6AADFF",
		"position": "center",
		"beginend": "#FF357C",
		"key": "#d285fd",
		"string": "#FAF7BA",
		"selection": "#492744"
	},
	"OreImo: Kirino": {
		"wallpaper": "kirino_dark.png",
		"background": "#121e1c",
		"color": "#cbcbcb",
		"keyword": "#6cb3b5",
		"hover": "#E77FD5",
		"position": "right",
		"beginend": "#eec45e",
		"key": "#49e7d0",
		"string": "#F6E9CB",
		"selection": "#3d213e"
	},
	"LS: Konata": {
		"wallpaper": "konata_dark.png",
		"background": "#355082",
		"color": "#f3edff",
		"keyword": "#4bcf4c",
		"hover": "#cda8fa",
		"position": "center",
		"beginend": "#fffd9b",
		"key": "#ffc9d7",
		"string": "#fc9ee6",
		"selection": "#3a6c75"
	},
	"SG: Makise Kurisu": {
		"wallpaper": "kurisu_dark.png",
		"background": "#170a0b",
		"color": "#c3c3c3",
		"keyword": "#8F60B5",
		"hover": "#e0474b",
		"position": "center",
		"beginend": "#FF8C74",
		"key": "#BD93F9",
		"string": "#4593f5",
		"selection": "#391717"
	},
	"BunnySenpai: Mai Dark": {
		"wallpaper": "mai_dark.png",
		"background": "#242448",
		"color": "#bbbbbb",
		"keyword": "#fee3cf",
		"hover": "#61dba0",
		"position": "right",
		"beginend": "#50cefb",
		"key": "#ebd5d4",
		"string": "#EFA554",
		"selection": "#235161"
	},
	"BunnySenpai: Mai Light": {
		"wallpaper": "mai_light.png",
		"background": "#FAF2F1",
		"color": "#252427",
		"keyword": "#4f5287",
		"hover": "#4f5287",
		"position": "right",
		"beginend": "#C869A3",
		"key": "#7C75EF",
		"string": "#d27f2d",
		"selection": "#b1b0d2"
	},
	"BlendS: Maika": {
		"wallpaper": "maika_dark.png",
		"background": "#24062f",
		"color": "#c9c9c9",
		"keyword": "#bc5d71",
		"hover": "#50cefb",
		"position": "right",
		"beginend": "#f6e7ba",
		"key": "#e42b54",
		"string": "#e09cf3",
		"selection": "#3d1535"
	},
	"NekoPara: Maple Dark": {
		"wallpaper": "maple_dark.png",
		"background": "#2d1d1d",
		"color": "#cccccc",
		"keyword": "#46ab79",
		"hover": "#ee7fdc",
		"position": "right",
		"beginend": "#4fe1a9",
		"key": "#FFD448",
		"string": "#F6E9CB",
		"selection": "#295043"
	},
	"NekoPara: Maple Light": {
		"wallpaper": "maple_light.png",
		"background": "#ffd091",
		"color": "#101010",
		"keyword": "#923A4E",
		"hover": "#7748B7",
		"position": "right",
		"beginend": "#007972",
		"key": "#B03F0F",
		"string": "#208D3B",
		"selection": "#ec9e74"
	},
	"KonoSuba: Megumin": {
		"wallpaper": "megumin.png",
		"background": "#2c2126",
		"color": "#bbbbbb",
		"keyword": "#a73035",
		"hover": "#dae838",
		"position": "center",
		"beginend": "#AF5C5A",
		"key": "#a28a92",
		"string": "#ffd866",
		"selection": "#563036"
	},
	"MonsterMusume: Miia": {
		"wallpaper": "miia_dark.png",
		"background": "#310e19",
		"color": "#efefef",
		"keyword": "#d6a53e",
		"hover": "#FFB86C",
		"position": "right",
		"beginend": "#c05388",
		"key": "#39e6a6",
		"string": "#e2d9bd",
		"selection": "#5b3225"
	},
	"Railgun: Misaka Mikoto": {
		"wallpaper": "mikoto_dark.png",
		"background": "#0b173a",
		"color": "#dbdbdb",
		"keyword": "#3eb7e5",
		"hover": "#8BEF85",
		"position": "right",
		"beginend": "#FFE35C",
		"key": "#57e1ee",
		"string": "#A2EEFC",
		"selection": "#05649c"
	},
	"QQ: Nakano Miku": {
		"wallpaper": "nakano_miku_dark.png",
		"background": "#244158",
		"color": "#f3edff",
		"keyword": "#A5F3FA",
		"hover": "#ba92f3",
		"position": "right",
		"beginend": "#3394dd",
		"key": "#60ff62",
		"string": "#fffeaf",
		"selection": "#498192"
	},
	"Vocaloid: Hatsune Miku": {
		"wallpaper": "miku.png",
		"background": "#2f3635",
		"color": "#bbbbbb",
		"keyword": "#53b0b4",
		"hover": "#F6E9CB",
		"position": "center",
		"beginend": "#95C8FA",
		"key": "#7BF8E1",
		"string": "#B5F6BA",
		"selection": "#4c7a76"
	},
	"EVA: Katsuragi Misato": {
		"wallpaper": "misato_dark.png",
		"background": "#382536",
		"color": "#b5a3b0",
		"keyword": "#c2383e",
		"hover": "#6AADFF",
		"position": "center",
		"beginend": "#FF357C",
		"key": "#BD84DD",
		"string": "#FAF7BA",
		"selection": "#8a2b4d"
	},
	"DDLC: Monika Dark": {
		"wallpaper": "just_monika_dark.png",
		"background": "#1d2115",
		"color": "#bbbbbb",
		"keyword": "#388E3C",
		"hover": "#bca3aa",
		"position": "center",
		"beginend": "#bca3aa",
		"key": "#3eae5d",
		"string": "#f1fa8c",
		"selection": "#30432B"
	},
	"DDLC: Monika Light": {
		"wallpaper": "just_monika.png",
		"background": "#f2fff0",
		"color": "#252427",
		"keyword": "#388E3C",
		"hover": "#7AA42E",
		"position": "center",
		"beginend": "#8a777d",
		"key": "#3eae5d",
		"string": "#da832e",
		"selection": "#a9ecac"
	},
	"YuruCamp: Nadeshiko": {
		"wallpaper": "nadeshiko_dark.png",
		"background": "#2c1f26",
		"color": "#b0b0b0",
		"keyword": "#78c6d0",
		"hover": "#61ead9",
		"position": "right",
		"beginend": "#61c1ea",
		"key": "#ec9cb2",
		"string": "#F6E9CB",
		"selection": "#553854"
	},
	"DTWMMN: Hayase Nagatoro": {
		"wallpaper": "nagatoro_dark.png",
		"background": "#151515",
		"color": "#bbbbbb",
		"keyword": "#d2824e",
		"hover": "#D233A2",
		"position": "right",
		"beginend": "#5cd7d7",
		"key": "#6d7fd4",
		"string": "#95acbd",
		"selection": "#5d3e2f"
	},
	"DDLC: Natsuki Dark": {
		"wallpaper": "natsuki_dark.png",
		"background": "#35102c",
		"color": "#bbbbbb",
		"keyword": "#E94686",
		"hover": "#FF9CD6",
		"position": "right",
		"beginend": "#FF9CD6",
		"key": "#bca3aa",
		"string": "#f1fa8c",
		"selection": "#602b50"
	},
	"DDLC: Natsuki Light": {
		"wallpaper": "natsuki.png",
		"background": "#FFE5F1",
		"color": "#000000",
		"keyword": "#E94686",
		"hover": "#df81b8",
		"position": "right",
		"beginend": "#7C75EF",
		"key": "#C869A3",
		"string": "#DC872E",
		"selection": "#fcc9f2"
	},
	"QQ: Nakano Nino": {
		"wallpaper": "nino_dark.png",
		"background": "#1f1b20",
		"color": "#bbbbbb",
		"keyword": "#d45575",
		"hover": "#5ea7ff",
		"position": "right",
		"beginend": "#68c4ee",
		"key": "#7ceec8",
		"string": "#F6E3CC",
		"selection": "#452735"
	},
	"Re:Zero: Ram": {
		"wallpaper": "ram.png",
		"background": "#342c34",
		"color": "#bbbbbb",
		"keyword": "#e594bf",
		"hover": "#FBFF90",
		"position": "right",
		"beginend": "#986DEA",
		"key": "#ef57bf",
		"string": "#a1e9ff",
		"selection": "#7a546f"
	},
	"ShieldHero: Raphtalia": {
		"wallpaper": "raphtalia_dark.png",
		"background": "#1e1710",
		"color": "#cccccc",
		"keyword": "#823a3b",
		"hover": "#FFD448",
		"position": "right",
		"beginend": "#fd9144",
		"key": "#f19992",
		"string": "#FDC78C",
		"selection": "#5c3915"
	},
	"EVA: Rei": {
		"wallpaper": "rei_dark.png",
		"background": "#191b1f",
		"color": "#d2d2d2",
		"keyword": "#b53241",
		"hover": "#6AADFF",
		"position": "right",
		"beginend": "#45e68a",
		"key": "#788a8b",
		"string": "#F6E3CC",
		"selection": "#25435a"
	},
	"Re:Zero: Rem": {
		"wallpaper": "rem.png",
		"background": "#2c2d34",
		"color": "#bbbbbb",
		"keyword": "#578CDA",
		"hover": "#FBFF90",
		"position": "right",
		"beginend": "#986DEA",
		"key": "#6893f3",
		"string": "#F0A1FF",
		"selection": "#4C637A"
	},
	"DxD: Rias Crimson": {
		"wallpaper": "rias_dark.png",
		"background": "#3E1010",
		"color": "#fafafa",
		"keyword": "#e03943",
		"hover": "#e03392",
		"position": "center",
		"beginend": "#eea367",
		"key": "#C04750",
		"string": "#9EB7D6",
		"selection": "#822e2e"
	},
	"DxD: Rias Onyx": {
		"wallpaper": "rias_onyx.png",
		"background": "#100000",
		"color": "#d8d8d8",
		"keyword": "#7C171F",
		"hover": "#5a84dd",
		"position": "center",
		"beginend": "#b2dbe3",
		"key": "#27c0b4",
		"string": "#F6E3CC",
		"selection": "#390c10"
	},
	"Chuunibyou: Takanashi Rikka": {
		"wallpaper": "rikka_dark.png",
		"background": "#1e1928",
		"color": "#bbbbbb",
		"keyword": "#dd2a62",
		"hover": "#67F5C4",
		"position": "center",
		"beginend": "#8C92FC",
		"key": "#de4371",
		"string": "#FFB4F8",
		"selection": "#761d3a"
	},
	"TypeMoon: Tohsaka Rin": {
		"wallpaper": "rin_dark_v2.png",
		"background": "#161415",
		"color": "#bbbbbb",
		"keyword": "#4c9697",
		"hover": "#EFA554",
		"position": "center",
		"beginend": "#e0474b",
		"key": "#666f71",
		"string": "#69e0f5",
		"selection": "#391717"
	},
	"Gate: Rory Mercury": {
		"wallpaper": "rory_dark.png",
		"background": "#141417",
		"color": "#c3c3c3",
		"keyword": "#b53241",
		"hover": "#BD93F9",
		"position": "center",
		"beginend": "#6b7476",
		"key": "#e0474b",
		"string": "#4593f5",
		"selection": "#391717"
	},
	"KillLaKill: Ryuko Dark": {
		"wallpaper": "ryuko.png",
		"background": "#2b3238",
		"color": "#bbbbbb",
		"keyword": "#a73035",
		"hover": "#6893f3",
		"position": "right",
		"beginend": "#C1B5C3",
		"key": "#e0474b",
		"string": "#efa554",
		"selection": "#563036"
	},
	"KillLaKill: Ryuko Light": {
		"wallpaper": "ryuko_light.png",
		"background": "#ffffff",
		"color": "#101010",
		"keyword": "#169ef2",
		"hover": "#7748B7",
		"position": "right",
		"beginend": "#007972",
		"key": "#B03F0F",
		"string": "#0F92E3",
		"selection": "#74adec"
	},
	"EroManga: Sagiri": {
		"wallpaper": "sagiri_dark.png",
		"background": "#0a3b36",
		"color": "#f3edff",
		"keyword": "#5eabb8",
		"hover": "#FF8282",
		"position": "right",
		"beginend": "#F1A4FA",
		"key": "#FFD448",
		"string": "#53dac7",
		"selection": "#052421"
	},
	"KillLaKill: Satsuki Dark": {
		"wallpaper": "satsuki_dark.png",
		"background": "#242729",
		"color": "#d3d3d3",
		"keyword": "#f03022",
		"hover": "#6893f3",
		"position": "center",
		"beginend": "#46F263",
		"key": "#e24a3e",
		"string": "#F6E9CB",
		"selection": "#5d2626"
	},
	"KillLaKill: Satsuki Light": {
		"wallpaper": "satsuki_light.png",
		"background": "#ffffff",
		"color": "#101010",
		"keyword": "#275AB3",
		"hover": "#7748B7",
		"position": "center",
		"beginend": "#79074c",
		"key": "#13a78c",
		"string": "#0F92E3",
		"selection": "#748fec"
	},
	"DDLC: Sayori Dark": {
		"wallpaper": "sayori_dark.png",
		"background": "#111b2d",
		"color": "#bbbbbb",
		"keyword": "#00BCD4",
		"hover": "#c1ff10",
		"position": "center",
		"beginend": "#3F77EF",
		"key": "#bca3aa",
		"string": "#f1fa8c",
		"selection": "#234164"
	},
	"DDLC: Sayori Light": {
		"wallpaper": "sayori.png",
		"background": "#f0faff",
		"color": "#252427",
		"keyword": "#00bcd4",
		"hover": "#FF3889",
		"position": "center",
		"beginend": "#3F77EF",
		"key": "#9D868D",
		"string": "#DC872E",
		"selection": "#a9c8ec"
	},
	"NekoPara: Shigure": {
		"wallpaper": "shigure_light.png",
		"background": "#e9e9ff",
		"color": "#101010",
		"keyword": "#5e1f7f",
		"hover": "#7748B7",
		"position": "right",
		"beginend": "#5E037E",
		"key": "#410cb2",
		"string": "#208D3B",
		"selection": "#5756a2"
	},
	"YuruCamp: Shima Rin": {
		"wallpaper": "shima_rin_dark.png",
		"background": "#2b303b",
		"color": "#b0b0b0",
		"keyword": "#6688ad",
		"hover": "#89acf6",
		"position": "right",
		"beginend": "#61ead9",
		"key": "#ea73d6",
		"string": "#F6E9CB",
		"selection": "#4f3a4e"
	},
	"DM: Tohru": {
		"wallpaper": "tohru_light.png",
		"background": "#ffe090",
		"color": "#101010",
		"keyword": "#d23c4b",
		"hover": "#0E8D61",
		"position": "right",
		"beginend": "#176B82",
		"key": "#A74503",
		"string": "#005CC5",
		"selection": "#ec9e74"
	},
	"LoveLive: Sonoda Umi": {
		"wallpaper": "umi_dark.png",
		"background": "#15173c",
		"color": "#d0d0d0",
		"keyword": "#EFA554",
		"hover": "#78F5F0",
		"position": "center",
		"beginend": "#BD84DD",
		"key": "#58b7ff",
		"string": "#FFF6B3",
		"selection": "#272A59"
	},
	"NekoPara: Vanilla": {
		"wallpaper": "vanilla_dark.png",
		"background": "#2b2c3d",
		"color": "#cdcdcd",
		"keyword": "#9debff",
		"hover": "#9d8df6",
		"position": "right",
		"beginend": "#6a96e9",
		"key": "#FFD448",
		"string": "#F6E9CB",
		"selection": "#374872"
	},
	"QQ: Nakano Yotsuba": {
		"wallpaper": "yotsuba_dark.png",
		"background": "#200909",
		"color": "#bbbbbb",
		"keyword": "#e86a44",
		"hover": "#ffba2f",
		"position": "right",
		"beginend": "#39e6a6",
		"key": "#ff858c",
		"string": "#F6E3CC",
		"selection": "#622316"
	},
	"OreGairu: Yukinoshita Yukino": {
		"wallpaper": "yukino_dark.png",
		"background": "#1f2126",
		"color": "#bbbbbb",
		"keyword": "#2d6382",
		"hover": "#9DACF6",
		"position": "center",
		"beginend": "#ead979",
		"key": "#e0474b",
		"string": "#F6E3CC",
		"selection": "#2d3b55"
	},
	"Kakegurui: Jabami Yumeko": {
		"wallpaper": "yumeko_dark.png",
		"background": "#050000",
		"color": "#dbdbdb",
		"keyword": "#8a1820",
		"hover": "#7092ea",
		"position": "right",
		"beginend": "#42E66C",
		"key": "#e0474b",
		"string": "#F6E3CC",
		"selection": "#390c10"
	},
	"FutureDiary: Gasai Yuno": {
		"wallpaper": "yuno_dark.png",
		"background": "#150713",
		"color": "#c8c8c8",
		"keyword": "#ffa0b2",
		"hover": "#EFA554",
		"position": "right",
		"beginend": "#39e6a6",
		"key": "#e0474b",
		"string": "#F6E3CC",
		"selection": "#602b50"
	},
	"DDLC: Yuri Dark": {
		"wallpaper": "yuri_dark.png",
		"background": "#422D5A",
		"color": "#DADADA",
		"keyword": "#AB47BC",
		"hover": "#FF9CD6",
		"position": "center",
		"beginend": "#7C75EF",
		"key": "#bca3aa",
		"string": "#f1fa8c",
		"selection": "#4c2a70"
	},
	"DDLC: Yuri Light": {
		"wallpaper": "yuri.png",
		"background": "#f3f0ff",
		"color": "#252427",
		"keyword": "#ab74cb",
		"hover": "#c26a9d",
		"position": "center",
		"beginend": "#7C75EF",
		"key": "#c26a9d",
		"string": "#d27f2d",
		"selection": "#ada0d2"
	},
	"Franxx: Zero Two Dark": {
		"wallpaper": "zero_two_dark.png",
		"background": "#310f0f",
		"color": "#efefef",
		"keyword": "#e4dad4",
		"hover": "#FFB86C",
		"position": "center",
		"beginend": "#C04750",
		"key": "#39e6a6",
		"string": "#e2d9bd",
		"selection": "#531e1e"
	},
	"Franxx: Zero Two Light": {
		"wallpaper": "zero_two_light.png",
		"background": "#fcfcfc",
		"color": "#252427",
		"keyword": "#A62210",
		"hover": "#117aa6",
		"position": "center",
		"beginend": "#A62210",
		"key": "#0da661",
		"string": "#0EAAAF",
		"selection": "#e9b4b8"
	}
}

var theme_names = [
	"KonoSuba: Aqua",
	"TypeMoon: Astolfo",
	"SAO: Asuna Dark",
	"SAO: Asuna Light",
	"NekoPara: Azuki",
	"Re:Zero: Beatrice",
	"NekoPara: Chocola",
	"NekoPara: Christmas Chocola",
	"NekoPara: Cinnamon",
	"NekoPara: Coconut",
	"KonoSuba: Darkness Dark",
	"KonoSuba: Darkness Light",
	"Re:Zero: Echidna",
	"Re:Zero: Emilia Dark",
	"Re:Zero: Emilia Light",
	"AzurLane: Essex",
	"TypeMoon: Gray",
	"Monogatari: Hanekawa Tsubasa",
	"DR: Mioda Ibuki Dark",
	"DR: Mioda Ibuki Light",
	"TypeMoon: Ishtar Dark",
	"TypeMoon: Ishtar Light",
	"JahySama: Jahy",
	"DM: Kanna",
	"OreImo: Kirino",
	"LS: Konata",
	"SG: Makise Kurisu",
	"BunnySenpai: Mai Dark",
	"BunnySenpai: Mai Light",
	"BlendS: Maika",
	"NekoPara: Maple Dark",
	"NekoPara: Maple Light",
	"KonoSuba: Megumin",
	"MonsterMusume: Miia",
	"Railgun: Misaka Mikoto",
	"QQ: Nakano Miku",
	"Vocaloid: Hatsune Miku",
	"EVA: Katsuragi Misato",
	"DDLC: Monika Dark",
	"DDLC: Monika Light",
	"YuruCamp: Nadeshiko",
	"DTWMMN: Hayase Nagatoro",
	"DDLC: Natsuki Dark",
	"DDLC: Natsuki Light",
	"QQ: Nakano Nino",
	"Re:Zero: Ram",
	"ShieldHero: Raphtalia",
	"EVA: Rei",
	"Re:Zero: Rem",
	"DxD: Rias Crimson",
	"DxD: Rias Onyx",
	"Chuunibyou: Takanashi Rikka",
	"TypeMoon: Tohsaka Rin",
	"Gate: Rory Mercury",
	"KillLaKill: Ryuko Dark",
	"KillLaKill: Ryuko Light",
	"EroManga: Sagiri",
	"KillLaKill: Satsuki Dark",
	"KillLaKill: Satsuki Light",
	"DDLC: Sayori Dark",
	"DDLC: Sayori Light",
	"NekoPara: Shigure",
	"YuruCamp: Shima Rin",
	"DM: Tohru",
	"LoveLive: Sonoda Umi",
	"NekoPara: Vanilla",
	"QQ: Nakano Yotsuba",
	"OreGairu: Yukinoshita Yukino",
	"Kakegurui: Jabami Yumeko",
	"FutureDiary: Gasai Yuno",
	"DDLC: Yuri Dark",
	"DDLC: Yuri Light",
	"Franxx: Zero Two Dark",
	"Franxx: Zero Two Light",
]

function getRandomKey() {
	return theme_names[Math.floor (Math.random () * theme_names.length)];
}

function getfromStorage(key, def) {
	let tsf = localStorage.getItem (key);
	if (tsf === null)
		return def;
	else
		return tsf;
}

function puttoStorage(key, val) {
	localStorage.setItem (key, val);
}

//region Color Manager

function hexToRgb(hex) {
	// Expand shorthand form (e.g. "03F") to full form (e.g. "0033FF")
	let shorthandRegex = /^#?([a-f\d])([a-f\d])([a-f\d])$/i;
	hex = hex.replace(shorthandRegex, function(m, r, g, b) {
		return r + r + g + g + b + b;
	});

	var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
	return result ? {
		red: parseInt(result[1], 16),
		green: parseInt(result[2], 16),
		blue: parseInt(result[3], 16)
	} : null;
}

function rgbToHex(r, g, b) {
	return "#" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);
}

function ChangeColorBrightness (color, correctionFactor){
	let red = color.red;
	let green = color.green;
	let blue = color.blue;

	if (correctionFactor < 0)
	{
		correctionFactor = 1 + correctionFactor;
		red *= correctionFactor;
		green *= correctionFactor;
		blue *= correctionFactor;
	} else
	{
		red = (255 - red) * correctionFactor + red;
		green = (255 - green) * correctionFactor + green;
		blue = (255 - blue) * correctionFactor + blue;
	}

	red = Math.floor(red);
	green = Math.floor(green);
	blue = Math.floor(blue);

	return rgbToHex(red, green, blue);
}

function IsDark (clr)
{
	return ((clr.red + clr.green + clr.blue) / 3 < 127);
}

function DarkerOrLighter (hex, percent)
{
	let clr = hexToRgb(hex);
	if (IsDark (clr))
		return ChangeColorBrightness (clr, percent);
	else
		return ChangeColorBrightness (clr, -percent);
}

//endregion

function resetTheme() {
	localStorage.removeItem ("theme");
	loadTheme ();
}

let preLoad = false;
let private_style;

function loadTheme() {
	let rnd = null;
	let themeName = null;
	try {
		themeName = window.external.GetThemeName ();
		rnd = wallpapers[themeName];
		console.log (themeName);
	} catch (e) {
		themeName = null;
		console.log ("Couldn't get theme name");
	}
	let fromPlugin = themeName != null;
	if (themeName == null) {
		if (getfromStorage ("theme", null) == null) {
			let nm = getRandomKey ();
			puttoStorage ("theme", nm);
			rnd = wallpapers[nm];
		} else {
			rnd = wallpapers[getfromStorage ("theme", "Re:Zero: Rem")];
		}
	}else{
		puttoStorage ("theme", themeName);
	}
	if (!String.prototype.endsWith) {
		String.prototype.endsWith = function (search, this_len) {
			if (this_len === undefined || this_len > this.length) {
				this_len = this.length;
			}
			return this.substring (this_len - search.length, this_len) === search;
		};
	}
	if (!wallpaper_url.endsWith ("/")) {
		wallpaper_url += "/";
	}
	let imgUrl = wallpaper_url + "wallpapers/" + rnd.wallpaper;

	if (fromPlugin) {
		try {
			imgUrl = window.external.ReadImage ();
		} catch (exep) {
			// alert(exep);
		}
	}

	let image = "url(" + imgUrl + ")";
	let themesSyntax = "";
	if(themes){
		for (let m in wallpapers){
			if (m !== undefined){
				let km = "#"+m.replace(/ /g,"_").replace(/:/g,"__");
				let nc = wallpapers[m];
				let bg = DarkerOrLighter (nc.background, 0.05);
				let bgClick = DarkerOrLighter (nc.background, 0.2);
				let bgClick3 = DarkerOrLighter (nc.background, 0.1);

				themesSyntax += km+" .keyword {color: " + nc.key + ";}\n" +
					km+" .themed-tab { color: " + nc.color + "; } \n" +
					km+" .themed-tab::after { box-shadow: 0px 0px 33px 2px " + nc.keyword + ";\n" +
						 "-webkit-box-shadow: 0px 0px 33px 2px " + nc.keyword + "; } \n" +
					km+" .method { color: " + nc.hover + " }\n" +
					km+" .beginend { color: " + nc.beginend + "; }\n" +
					km+" .string { color: " + nc.string + "; }\n" +
					km+" .tab-header { background-color: " + bg + "; }\n" +
					km+" .tab-strip { background-color: " + nc.background + "; }\n" +
					km+" .tab-active { background-color: " + bgClick3 + "; border-bottom-color: " + nc.keyword + "; }\n" +
					km+" .line-numbers { border-right-color: " + nc.keyword + "; }\n"+
					km+" .tabs, " + km + " .tab-header { border-bottom-color: " + bgClick + " !important; }\n"+
					km+" .code ::selection { background-color: " + nc.selection + " !important; color: " + nc.color + " !important; }\n" +
					km+" .code ::-moz-selection { background-color: " + nc.selection + " !important; color: " + nc.color + " !important; }\n";
			}
		}

	}

	document.body.style.backgroundImage = image;
	document.body.style.backgroundPosition = rnd.position;
	let stl = ".bg-theme {  background-color: " + rnd.background + " !important; }\n" +
		".color-theme, button, a {  color: " + rnd.color + " !important;  }\n" +
		"a:hover, .special-1 { color: " + rnd.hover + " !important; }\n" +
		".svg_fill { fill: " + rnd.color + " !important; }\n" +
		".svg_fill:hover { fill: " + rnd.hover + " !important; }\n" +
		".special-2 { color: " + rnd.keyword + " !important; }\n" +
		".btn-special-2:hover {  	 background-color: " + rnd.keyword + " !important;" +
		"border-color: " + rnd.keyword + " !important; }\n" +
		".tab-header, .tab-strip, .tab-active { background-image: " + image + "; background-position: " + rnd.position + " center;" +
		"background-size: cover; background-repeat: no-repeat; background-attachment: fixed;  }\n" +
		".bn-effect { " +
		"	-webkit-box-shadow: inset 0px -5px 0 0px " + rnd.keyword + " !important; " +
		"	-moz-box-shadow: inset 0px -5px 0 0px " + rnd.keyword + " !important; " +
		"	box-shadow: inset 0px -5px 0 0px " + rnd.keyword + " !important; }\n" +
		themesSyntax +
		"#thms .selected { border: 3px solid " + rnd.keyword + "; }\n" +
		"*::-webkit-scrollbar-thumb { background-color: " + rnd.keyword + "; }\n" +
		"* { scrollbar-base-color: " + rnd.background + "\n;" +
		"        scrollbar-face-color: " + rnd.keyword + ";\n" +
		"        scrollbar-3dlight-color: " + rnd.keyword + ";\n" +
		"        scrollbar-highlight-color: " + rnd.keyword + ";\n" +
		"        scrollbar-track-color: " + rnd.background + "\n;" +
		"        scrollbar-arrow-color: " + rnd.background + ";\n" +
		"        scrollbar-shadow-color: " + rnd.background + ";\n" +
		"        scrollbar-dark-shadow-color: " + rnd.background + "; }" +
		"::selection { color: " + rnd.keyword + " !important; }\n" +
	"::-moz-selection { color: " + rnd.keyword + " !important; }\n";

	if (!preLoad) {
		private_style = document.createElement ('style');
		private_style.type = 'text/css';
		private_style.innerHTML = stl;
		document.getElementsByTagName ('head')[0].appendChild (private_style);
	} else {
		private_style.innerHTML = stl;
	}
	preLoad = true;
}